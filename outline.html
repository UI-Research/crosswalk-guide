<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabe Morrison and Chris Davis">
<meta name="dcterms.date" content="2022-10-01">

<title>Urban Institute Guide for creating and using geographic crosswalks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="outline_files/libs/clipboard/clipboard.min.js"></script>
<script src="outline_files/libs/quarto-html/quarto.js"></script>
<script src="outline_files/libs/quarto-html/popper.min.js"></script>
<script src="outline_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="outline_files/libs/quarto-html/anchor.min.js"></script>
<link href="outline_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="outline_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="outline_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="outline_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="outline_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Urban Institute Guide for creating and using geographic crosswalks</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabe Morrison and Chris Davis </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 1, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="section" class="level1">
<h1></h1>
<section id="introductionbackground" class="level2">
<h2 class="anchored" data-anchor-id="introductionbackground">Introduction/Background</h2>
<section id="context" class="level3">
<h3 class="anchored" data-anchor-id="context">Context:</h3>
<ul>
<li><p>Urban researchers often conduct an analysis at a certain geographic scale (e.g.&nbsp;the census tract, zip code, or state).</p></li>
<li><p>Many data is provided at different levels of spatial aggregation, or those levels change over time (looking at you, census tracts!).</p></li>
<li><p>Thus, we need a need a tool to transform data from one spatial level to another. This is a crosswalk!</p></li>
<li><p>A note on nomenclature: (geographic) crosswalks are also called correlation lists, equivalency files, or geographic correspondence files.</p></li>
</ul>
</section>
<section id="background-census-geographies-and-nesting" class="level3">
<h3 class="anchored" data-anchor-id="background-census-geographies-and-nesting">Background: Census Geographies and Nesting!</h3>
<ul>
<li>The Census Bureau releases all data at a series of 27 different geographic levels.</li>
<li>A key concept is that of <strong>nesting</strong>. Some census geographies are entirely composed of other census geographies, making aggregation from the smaller to the larger geographic level simple.</li>
<li>A chart depicting the 27 geographic levels and their relationships to each other can be seen below.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/censusgeochart.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Image from <a href="https://mcdc.missouri.edu/geography/sumlevs/">MCDC</a></figcaption><p></p>
</figure>
</div>
<ul>
<li>Note that all census blocks are entirely nested within census block groups, census block groups within census tract, tracts in counties, and counties within states.</li>
<li>Blocks are generally bounded by visible features or boundaries (like roads!).</li>
</ul>
</section>
<section id="background-blocks-block-groups-and-tracts-in-depth" class="level3">
<h3 class="anchored" data-anchor-id="background-blocks-block-groups-and-tracts-in-depth">Background: Blocks, Block Groups, and Tracts in Depth</h3>
<ul>
<li>Blocks are statistical entities that tend to be small and are bounded by visible features (e.g.&nbsp;roads, streams, railroad tracks) or non-visible features like city boundaries.</li>
<li>Block groups are generally defined to contain 600-3000 people.</li>
<li>Census tracts have between 1200 and 8000 people, and often/ideally close to 4000. Census tract boundaries are made to last over time.</li>
<li>Because of these population limitations, these geographic levels can change over time. Such changes necessitate crosswalks.</li>
</ul>
</section>
<section id="tiger-fips-codes-and-when-you-do-not-need-to-use-a-crosswalk" class="level3">
<h3 class="anchored" data-anchor-id="tiger-fips-codes-and-when-you-do-not-need-to-use-a-crosswalk">TIGER, FIPS Codes and When you do not need to use a Crosswalk:</h3>
<ul>
<li><p>The Census Bureau releases spatial data outlining census geography in their TIGER/Line Shapefiles.</p></li>
<li><p>In the TIGER/Line Shapefiles, each geographic unit (e.g.&nbsp;a census tract or block) has a unique geographic identifier, or GEOID.</p></li>
<li><p>GEOIDs have a great naming convention, some of which we outline below.</p></li>
</ul>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 14%">
<col style="width: 23%">
<col style="width: 18%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th>Geographic Level</th>
<th>Structure</th>
<th>Number of Digits</th>
<th style="text-align: right;">Example Area</th>
<th style="text-align: right;">Example GEOID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>State</td>
<td>STATE</td>
<td>2</td>
<td style="text-align: right;">Texas</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="even">
<td>County</td>
<td>STATE + County</td>
<td>2+3 =5</td>
<td style="text-align: right;">Harris County, Texas</td>
<td style="text-align: right;">48201</td>
</tr>
<tr class="odd">
<td>Tract</td>
<td>STATE + COUNTY + TRACT</td>
<td>2 +3 + 6 = 11</td>
<td style="text-align: right;">Tract 2231 in Harris County, Texas</td>
<td style="text-align: right;">48201223100</td>
</tr>
<tr class="even">
<td>Block Group</td>
<td>STATE + COUNTY + TRACT + BLOCK GROUP</td>
<td>2+3+6+1 = 12</td>
<td style="text-align: right;">Block Group 1 in Census Tract 2231 in Harris County, TX</td>
<td style="text-align: right;">482012231001</td>
</tr>
<tr class="odd">
<td>Block</td>
<td>STATE + COUNTY + TRACT + BLOCK GROUP + BLOCK</td>
<td>2+3+6+4 = 15</td>
<td style="text-align: right;">Block 1050 in Census Tract 2231 in Harris County, TX</td>
<td style="text-align: right;">482012231001050</td>
</tr>
</tbody>
</table>
<p>Example from <a href="https://www.census.gov/programs-surveys/geography/guidance/geo-identifiers.html#:~:text=FIPS%20codes%20are%20assigned%20alphabetically,Native%20Hawaiian%20(AIANNH)%20areas.">The Census</a></p>
<ul>
<li>This naming scheme means that you do not need a crosswalk to simply aggregate from smaller to larger levels of geography if working with data all at the same geographic scale.</li>
<li>Instead, you simply need to:
<ol type="1">
<li>Create a new column in your dataframe with the GEOID truncated to the new geographic level.</li>
<li>Group by and summarize the data using the higher geographic scale.</li>
</ol></li>
</ul>
</section>
<section id="the-knitty-gritty-of-crosswalks" class="level3">
<h3 class="anchored" data-anchor-id="the-knitty-gritty-of-crosswalks">The Knitty-Gritty of Crosswalks</h3>
<p>with at least three columns: a source geography, a target geography, and an interpolation weight. Each record (row) in the crosswalk reflects an intersection between the two geographies, and the interpolation weight tells what portion of the source geography should be allocated to the target geography (https://www.nhgis.org/geographic-crosswalks)</p>
</section>
<section id="examples-in-urban-work" class="level3">
<h3 class="anchored" data-anchor-id="examples-in-urban-work">Examples in Urban Work</h3>
</section>
<section id="sourcesplaces-to-learn-more" class="level3">
<h3 class="anchored" data-anchor-id="sourcesplaces-to-learn-more">Sources/Places to learn more:</h3>
<p>https://www.census.gov/programs-surveys/geography/about/glossary.html#par_textimage_5 https://www.census.gov/content/dam/Census/data/developers/geoareaconcepts.pdf https://mcdc.missouri.edu/geography/sumlevs/ https://datadrivendetroit.org/blog/2021/09/16/2020-census-tract-changes/ https://mcdc.missouri.edu/applications/docs/geocorr2022-help.html#afact2</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>